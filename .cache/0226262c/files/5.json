{"contents":"'use strict';\nvar deprecate = __fusereq(15)('body-parser');\nvar parsers = Object.create(null);\nexports = module.exports = deprecate.function(bodyParser, 'bodyParser: use individual json/urlencoded middlewares');\nObject.defineProperty(exports, 'json', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('json')\n});\nObject.defineProperty(exports, 'raw', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('raw')\n});\nObject.defineProperty(exports, 'text', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('text')\n});\nObject.defineProperty(exports, 'urlencoded', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('urlencoded')\n});\nfunction bodyParser(options) {\n  var opts = {};\n  if (options) {\n    for (var prop in options) {\n      if (prop !== 'type') {\n        opts[prop] = options[prop];\n      }\n    }\n  }\n  var _urlencoded = exports.urlencoded(opts);\n  var _json = exports.json(opts);\n  return function bodyParser(req, res, next) {\n    _json(req, res, function (err) {\n      if (err) return next(err);\n      _urlencoded(req, res, next);\n    });\n  };\n}\nfunction createParserGetter(name) {\n  return function get() {\n    return loadParser(name);\n  };\n}\nfunction loadParser(parserName) {\n  var parser = parsers[parserName];\n  if (parser !== undefined) {\n    return parser;\n  }\n  switch (parserName) {\n    case 'json':\n      parser = __fusereq(16);\n      break;\n    case 'raw':\n      parser = __fusereq(17);\n      break;\n    case 'text':\n      parser = __fusereq(18);\n      break;\n    case 'urlencoded':\n      parser = __fusereq(19);\n      break;\n  }\n  return parsers[parserName] = parser;\n}\n"}