{"contents":"var buffer = __fusereq(51);\nvar Buffer = buffer;\n'use strict';\nmodule.exports = etag;\nvar crypto = __fusereq(71);\nvar Stats = __fusereq(60).Stats;\nvar toString = Object.prototype.toString;\nfunction entitytag(entity) {\n  if (entity.length === 0) {\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"';\n  }\n  var hash = crypto.createHash('sha1').update(entity, 'utf8').digest('base64').substring(0, 27);\n  var len = typeof entity === 'string' ? Buffer.byteLength(entity, 'utf8') : entity.length;\n  return '\"' + len.toString(16) + '-' + hash + '\"';\n}\nfunction etag(entity, options) {\n  if (entity == null) {\n    throw new TypeError('argument entity is required');\n  }\n  var isStats = isstats(entity);\n  var weak = options && typeof options.weak === 'boolean' ? options.weak : isStats;\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats');\n  }\n  var tag = isStats ? stattag(entity) : entitytag(entity);\n  return weak ? 'W/' + tag : tag;\n}\nfunction isstats(obj) {\n  if (typeof Stats === 'function' && obj instanceof Stats) {\n    return true;\n  }\n  return obj && typeof obj === 'object' && ('ctime' in obj) && toString.call(obj.ctime) === '[object Date]' && ('mtime' in obj) && toString.call(obj.mtime) === '[object Date]' && ('ino' in obj) && typeof obj.ino === 'number' && ('size' in obj) && typeof obj.size === 'number';\n}\nfunction stattag(stat) {\n  var mtime = stat.mtime.getTime().toString(16);\n  var size = stat.size.toString(16);\n  return '\"' + size + '-' + mtime + '\"';\n}\n"}