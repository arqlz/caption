{"contents":"'use strict';\nmodule.exports = unpipe;\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data');\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true;\n    }\n  }\n  return false;\n}\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required');\n  }\n  if (typeof stream.unpipe === 'function') {\n    stream.unpipe();\n    return;\n  }\n  if (!hasPipeDataListeners(stream)) {\n    return;\n  }\n  var listener;\n  var listeners = stream.listeners('close');\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i];\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue;\n    }\n    listener.call(stream);\n  }\n}\n"}