{"contents":"var process = __fusereq(59);\n'use strict';\nvar objectKeys = Object.keys || (function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }\n  return keys;\n});\nmodule.exports = Duplex;\nvar Readable = __fusereq(104);\nvar Writable = __fusereq(105);\n__fusereq(83)(Duplex, Readable);\n{\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n  Readable.call(this, options);\n  Writable.call(this, options);\n  this.allowHalfOpen = true;\n  if (options) {\n    if (options.readable === false) this.readable = false;\n    if (options.writable === false) this.writable = false;\n    if (options.allowHalfOpen === false) {\n      this.allowHalfOpen = false;\n      this.once('end', onend);\n    }\n  }\n}\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  enumerable: false,\n  get: function get() {\n    return this._writableState.highWaterMark;\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableBuffer', {\n  enumerable: false,\n  get: function get() {\n    return this._writableState && this._writableState.getBuffer();\n  }\n});\nObject.defineProperty(Duplex.prototype, 'writableLength', {\n  enumerable: false,\n  get: function get() {\n    return this._writableState.length;\n  }\n});\nfunction onend() {\n  if (this._writableState.ended) return;\n  process.nextTick(onEndNT, this);\n}\nfunction onEndNT(self) {\n  self.end();\n}\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  enumerable: false,\n  get: function get() {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function set(value) {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n"}