{"contents":"exports.__esModule = true;\nvar utils_1 = __fusereq(3);\nclass Presenter {\n  constructor(rec) {\n    this.lines = {};\n    this.queue = [];\n    var div = utils_1.createDiv({\n      width: \"100%\",\n      height: \"100%\"\n    });\n    this.control = utils_1.createDiv();\n    var stopButton = utils_1.createElement(\"button\");\n    stopButton.innerHTML = \"STOP\";\n    stopButton.onclick = () => {\n      stopButton.disabled = true;\n      if (rec) {\n        console.log(\"STOP RECORDER\", rec);\n        rec.stop();\n      }\n    };\n    this.control.append(stopButton);\n    div.append(this.control);\n    var show = utils_1.createDiv({\n      width: 350,\n      textAlign: \"center\",\n      margin: \"auto auto\",\n      color: \"#ffffff\",\n      fontSize: 20\n    });\n    this.textContainner = show;\n    div.append(show);\n    document.body.append(div);\n    setInterval(() => {\n      this.appendWord();\n    }, 100);\n  }\n  appendWord() {\n    if (this.queue.length) {\n      var w = this.queue.splice(0, 1)[0];\n      if (!this.lines[w.id]) {\n        var div = utils_1.createDiv();\n        this.textContainner.append(div);\n        this.lines[w.id] = div;\n      }\n      this.lines[w.id].innerHTML = w.result;\n    }\n  }\n  append(data) {\n    this.queue.push(data);\n  }\n}\nexports.Presenter = Presenter;\n","sourceMap":"{\"version\":3,\"sources\":[\"public/src/presenter.ts\"],\"names\":[\"constructor\",\"rec\",\"lines\",\"queue\",\"div\",\"utils_1\",\"width\",\"height\",\"control\",\"stopButton\",\"innerHTML\",\"onclick\",\"disabled\",\"console\",\"log\",\"stop\",\"append\",\"show\",\"textAlign\",\"margin\",\"color\",\"fontSize\",\"textContainner\",\"document\",\"body\",\"setInterval\",\"appendWord\",\"length\",\"w\",\"splice\",\"id\",\"result\",\"data\",\"push\"],\"mappings\":\";;AAEO;EAKHA,YAAYC;SAFZC;SACAC;QAEQC,MAAMC;MAAWC,OAAO;MAAQC,QAAQ;;IAE5C,KAAKC,UAAUH;QACXI,aAAaJ,sBAAc;IAC/BI,WAAWC,YAAY;IACvBD,WAAWE,UAAU;MACjBF,WAAWG,WAAW;UACnBX;QACCY,QAAQC,IAAI,iBAAiBb;QAC7BA,IAAIc;;;IAGZ,KAAKP,QAAQQ,OAAOP;IACpBL,IAAIY,OAAO,KAAKR;QAEZS,OAAOZ;MAAWC,OAAO;MAAKY,WAAW;MAAUC,QAAQ;MAAaC,OAAO;MAAWC,UAAU;;IACxG,KAAKC,iBAAiBL;IACtBb,IAAIY,OAAOC;IAEXM,SAASC,KAAKR,OAAOZ;IACrBqB,YAAY;MACR,KAAKC;OACN;;EAEPA;QACQ,KAAKvB,MAAMwB;UACPC,IAAI,KAAKzB,MAAM0B,OAAO,GAAG,GAAG;WAC3B,KAAK3B,MAAM0B,EAAEE;YACV1B,MAAMC;QACV,KAAKiB,eAAeN,OAAOZ;QAC3B,KAAKF,MAAM0B,EAAEE,MAAM1B;;MAEvB,KAAKF,MAAM0B,EAAEE,IAAIpB,YAAYkB,EAAEG;;;EAGvCf,OAAOgB;IACH,KAAK7B,MAAM8B,KAAKD\",\"sourcesContent\":[\"import { createDiv, createElement } from \\\"./components/utils\\\"\\r\\n\\r\\nexport class Presenter {\\r\\n    textContainner: HTMLDivElement;\\r\\n    control: HTMLDivElement;\\r\\n    lines: {[id: string]: HTMLDivElement} = {}\\r\\n    queue: {result: string, id: string}[] = []\\r\\n    constructor(rec?) {\\r\\n        var div = createDiv({width: \\\"100%\\\", height: \\\"100%\\\"})\\r\\n\\r\\n        this.control = createDiv()\\r\\n        var stopButton = createElement(\\\"button\\\")\\r\\n        stopButton.innerHTML = \\\"STOP\\\"\\r\\n        stopButton.onclick = () => {\\r\\n            stopButton.disabled = true\\r\\n            if(rec) {\\r\\n                console.log(\\\"STOP RECORDER\\\", rec)\\r\\n                rec.stop()\\r\\n            }\\r\\n        }\\r\\n        this.control.append(stopButton)\\r\\n        div.append(this.control)\\r\\n\\r\\n        var show = createDiv({width: 350, textAlign: \\\"center\\\", margin: \\\"auto auto\\\", color: \\\"#ffffff\\\", fontSize: 20})\\r\\n        this.textContainner = show\\r\\n        div.append(show)\\r\\n\\r\\n        document.body.append(div)\\r\\n        setInterval(() => {\\r\\n            this.appendWord()\\r\\n        }, 100)\\r\\n    }\\r\\n    appendWord() {    \\r\\n        if (this.queue.length) {\\r\\n            var w = this.queue.splice(0, 1)[0]\\r\\n            if (!this.lines[w.id]) {\\r\\n                var div = createDiv()\\r\\n                this.textContainner.append(div)\\r\\n                this.lines[w.id] = div;\\r\\n            }\\r\\n            this.lines[w.id].innerHTML = w.result\\r\\n        }\\r\\n    }\\r\\n    append(data: {result: string, id: string}) {\\r\\n        this.queue.push(data)\\r\\n   \\r\\n    }\\r\\n}\\r\\n\"]}"}